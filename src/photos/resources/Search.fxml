<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.RadioButton?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ToggleGroup?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.TilePane?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="photos.controller.SearchController">
   <top>
      <Label text="Search Photos" style="-fx-font-size: 20px; -fx-font-weight: bold;" BorderPane.alignment="CENTER">
         <padding>
            <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
         </padding>
      </Label>
   </top>
   <center>
      <VBox spacing="10" xmlns="http://javafx.com/javafx/11.0.1">
         <padding>
            <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
         </padding>
         <children>
            <fx:define>
               <ToggleGroup fx:id="searchTypeGroup" />
            </fx:define>
            <RadioButton text="Search by Date Range" toggleGroup="$searchTypeGroup" selected="true" />
            <GridPane fx:id="dateRangePane" hgap="10" vgap="10">
               <columnConstraints>
                  <ColumnConstraints minWidth="100.0" />
                  <ColumnConstraints minWidth="150.0" />
               </columnConstraints>
               <children>
                  <Label text="Start Date:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                  <DatePicker fx:id="startDatePicker" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                  <Label text="End Date:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                  <DatePicker fx:id="endDatePicker" GridPane.columnIndex="1" GridPane.rowIndex="1" />
               </children>
            </GridPane>
            <RadioButton text="Search by Tags" toggleGroup="$searchTypeGroup" />
            <VBox fx:id="tagSearchPane" spacing="10" visible="false">
               <children>
                  <HBox spacing="10">
                     <Label text="Tag Type 1:" />
                     <TextField fx:id="tagType1Field" />
                     <Label text="Value 1:" />
                     <TextField fx:id="tagValue1Field" />
                  </HBox>
                  <HBox spacing="10">
                     <Label text="Tag Type 2:" />
                     <TextField fx:id="tagType2Field" />
                     <Label text="Value 2:" />
                     <TextField fx:id="tagValue2Field" />
                  </HBox>
                  <HBox spacing="10">
                     <RadioButton text="AND" fx:id="andRadio" selected="true" />
                     <RadioButton text="OR" fx:id="orRadio" />
                  </HBox>
               </children>
            </VBox>
            <Button text="Search" onAction="#handleSearch" />
            <Label text="Results:" />
            <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS">
               <TilePane fx:id="resultsTilePane" hgap="10" vgap="10" prefColumns="4" />
            </ScrollPane>
         </children>
      </VBox>
   </center>
   <bottom>
      <HBox spacing="10" alignment="CENTER" BorderPane.alignment="CENTER">
         <padding>
            <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
         </padding>
         <Button text="Create Album from Results" onAction="#handleCreateAlbum" />
         <Button text="Back to Albums" onAction="#handleBack" />
      </HBox>
   </bottom>
</BorderPane>

